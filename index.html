<meta charset="UTF-8">
<title>UFO Radar - Real-Time UFO Tracking Map</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
:root {
  --primary: #00ff9d;
  --secondary: #ff00c8;
  --background: #000812;
  --text: #ffffff;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Orbitron', sans-serif;
  background: var(--background);
  color: var(--text);
  overflow: hidden;
}

#map {
  position: absolute;
  top: 60px;
  left: 250px;
  right: 0;
  bottom: 0;
  z-index: 1;
  background: var(--background);
}

.sidebar {
  position: fixed;
  left: 0;
  top: 60px;
  bottom: 0;
  width: 250px;
  background: rgba(0,8,18,0.95);
  border-right: 1px solid var(--primary);
  padding: 1rem;
  overflow-y: auto;
  z-index: 2;
}

.header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  padding: 0 1rem;
  background: rgba(0,8,18,0.95);
  border-bottom: 1px solid var(--primary);
  z-index: 3;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.logo {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.logo svg {
  width: 35px;
  height: 35px;
  fill: var(--primary);
  animation: rotate 4s linear infinite;
}

.search-box {
  flex: 1;
  max-width: 400px;
  margin: 0 2rem;
}

.search-input {
  width: 100%;
  padding: 0.5rem 1rem;
  background: rgba(255,255,255,0.1);
  border: 1px solid var(--primary);
  border-radius: 20px;
  color: var(--text);
  font-family: 'Orbitron', sans-serif;
}

.search-input:focus {
  outline: none;
  box-shadow: 0 0 10px var(--primary);
}

.filters {
  display: flex;
  gap: 1rem;
}

.filter-btn {
  background: transparent;
  border: 1px solid var(--primary);
  color: var(--primary);
  padding: 0.5rem 1rem;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.3s;
}

.filter-btn:hover {
  background: var(--primary);
  color: var(--background);
}

.ufo-list {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.ufo-item {
  background: rgba(255,255,255,0.05);
  padding: 1rem;
  border-radius: 8px;
  border: 1px solid var(--primary);
  cursor: pointer;
  transition: all 0.3s;
}

.ufo-item:hover {
  background: rgba(255,255,255,0.1);
  transform: translateX(5px);
}

.ufo-title {
  color: var(--primary);
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.ufo-details {
  font-size: 0.9em;
  opacity: 0.8;
}

.stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1rem;
  margin-bottom: 2rem;
}

.stat {
  text-align: center;
  background: rgba(255,255,255,0.05);
  padding: 0.5rem;
  border-radius: 8px;
  border: 1px solid var(--primary);
}

.stat-value {
  font-size: 1.2rem;
  color: var(--primary);
  font-weight: bold;
}

.stat-label {
  font-size: 0.8rem;
  opacity: 0.8;
}

.ufo-popup {
  background: rgba(0,8,18,0.95) !important;
  border: 1px solid var(--primary) !important;
  border-radius: 8px;
  color: var(--text);
}

.ufo-marker {
  filter: drop-shadow(0 0 5px var(--primary));
}

@keyframes rotate {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* Radar Animation */
.radar-sweep {
  position: absolute;
  top: 50%;
  left: 50%;
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: radial-gradient(circle, transparent 50%, var(--primary) 100%);
  transform-origin: center;
  animation: sweep 4s linear infinite;
}

@keyframes sweep {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

/* New chat styles */
.chat-button {
  position: fixed;
  bottom: 20px;
  right: 20px;
  background: var(--primary);
  color: var(--background);
  border: none;
  border-radius: 50%;
  width: 60px;
  height: 60px;
  font-size: 24px;
  cursor: pointer;
  box-shadow: 0 0 15px var(--primary);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s;
}

.chat-button:hover {
  transform: scale(1.1);
  box-shadow: 0 0 25px var(--primary);
}

.chat-window {
  position: fixed;
  bottom: 90px;
  right: 20px;
  width: 300px;
  height: 400px;
  background: rgba(0,8,18,0.95);
  border: 1px solid var(--primary);
  border-radius: 12px;
  z-index: 999;
  display: none;
  flex-direction: column;
}

.chat-window.active {
  display: flex;
}

.chat-header {
  padding: 1rem;
  border-bottom: 1px solid var(--primary);
  font-weight: bold;
}

.chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
}

.message {
  margin-bottom: 1rem;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  max-width: 80%;
}

.message.alien {
  background: rgba(0,255,157,0.1);
  border: 1px solid var(--primary);
  margin-right: auto;
}

.message.human {
  background: rgba(255,0,200,0.1);
  border: 1px solid var(--secondary);
  margin-left: auto;
}

.chat-input {
  padding: 1rem;
  border-top: 1px solid var(--primary);
  display: flex;
  gap: 0.5rem;
}

.chat-input input {
  flex: 1;
  background: rgba(255,255,255,0.1);
  border: 1px solid var(--primary);
  border-radius: 20px;
  padding: 0.5rem 1rem;
  color: var(--text);
  font-family: 'Orbitron', sans-serif;
}

.chat-input button {
  background: var(--primary);
  color: var(--background);
  border: none;
  border-radius: 20px;
  padding: 0.5rem 1rem;
  cursor: pointer;
  transition: all 0.3s;
}

.chat-input button:hover {
  transform: scale(1.05);
  box-shadow: 0 0 10px var(--primary);
}
</style>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

<header class="header">
  <div class="logo">
    <svg viewBox="0 0 24 24">
      <path d="M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4M12,6A6,6 0 0,0 6,12A6,6 0 0,0 12,18A6,6 0 0,0 18,12A6,6 0 0,0 12,6M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8Z"/>
    </svg>
    <h1>UFO RADAR</h1>
  </div>
  
  <div class="search-box">
    <input type="text" class="search-input" placeholder="Search UFO sightings...">
  </div>
  
  <div class="filters">
    <button class="filter-btn">All Types</button>
    <button class="filter-btn">Recent</button>
    <button class="filter-btn">High Energy</button>
  </div>
</header>

<aside class="sidebar">
  <div class="stats">
    <div class="stat">
      <div class="stat-value" id="active-ufos">42</div>
      <div class="stat-label">Active</div>
    </div>
    <div class="stat">
      <div class="stat-value" id="sightings-today">157</div>
      <div class="stat-label">Today</div>
    </div>
    <div class="stat">
      <div class="stat-value" id="countries">23</div>
      <div class="stat-label">Countries</div>
    </div>
  </div>

  <div class="ufo-list" id="ufo-list">
    <!-- UFO items will be dynamically added here -->
  </div>
</aside>

<div id="map"></div>

<button class="chat-button" id="chatButton">
  <svg viewBox="0 0 24 24" width="24" height="24">
    <path fill="currentColor" d="M20,2H4A2,2 0 0,0 2,4V22L6,18H20A2,2 0 0,0 22,16V4A2,2 0 0,0 20,2M20,16H6L4,18V4H20"/>
  </svg>
</button>

<div class="chat-window" id="chatWindow">
  <div class="chat-header">Communicate with UFOs</div>
  <div class="chat-messages" id="chatMessages">
    <div class="message alien">Greetings, Earth being! How may we assist you today?</div>
  </div>
  <div class="chat-input">
    <input type="text" id="messageInput" placeholder="Type your message...">
    <button id="sendButton">Send</button>
  </div>
</div>

<script>
let map;
let markers = [];

const ufoTypes = ['Disc', 'Cylinder', 'Triangle', 'Sphere', 'Boomerang'];
const origins = ['Zeta Reticuli', 'Pleiades', 'Andromeda', 'Orion', 'Sirius'];
const behaviors = ['Hovering', 'Zigzagging', 'Accelerating', 'Scanning', 'Observing'];

function getRandomUFOData() {
  return {
    id: Math.random().toString(36).substr(2, 9),
    type: ufoTypes[Math.floor(Math.random() * ufoTypes.length)],
    origin: origins[Math.floor(Math.random() * origins.length)],
    behavior: behaviors[Math.floor(Math.random() * behaviors.length)],
    speed: Math.floor(Math.random() * 15000 + 5000),
    altitude: Math.floor(Math.random() * 100000 + 20000),
    energyLevel: Math.floor(Math.random() * 100),
    crewCount: Math.floor(Math.random() * 10 + 1),
    timestamp: new Date().toISOString()
  };
}

function createUFOListItem(ufoData, marker) {
  const item = document.createElement('div');
  item.className = 'ufo-item';
  item.innerHTML = `
    <div class="ufo-title">${ufoData.type} UFO</div>
    <div class="ufo-details">
      <div>Origin: ${ufoData.origin}</div>
      <div>Behavior: ${ufoData.behavior}</div>
      <div>Energy: ${ufoData.energyLevel}%</div>
    </div>
  `;
  
  item.addEventListener('click', () => {
    map.setView(marker.getLatLng(), 8);
    marker.openPopup();
  });
  
  return item;
}

function createPopupContent(ufoData) {
  return `
    <div class="ufo-info">
      <h3>${ufoData.type} UFO</h3>
      <div>Origin: ${ufoData.origin}</div>
      <div>Behavior: ${ufoData.behavior}</div>
      <div>Speed: ${ufoData.speed} km/h</div>
      <div>Altitude: ${ufoData.altitude} ft</div>
      <div>Energy Level: ${ufoData.energyLevel}%</div>
      <div>Crew: ${ufoData.crewCount}</div>
      <div>Last Updated: ${new Date(ufoData.timestamp).toLocaleTimeString()}</div>
    </div>
  `;
}

function addUFO() {
  const lat = Math.random() * 140 - 70;
  const lng = Math.random() * 360 - 180;
  const ufoData = getRandomUFOData();
  
  const ufoIcon = L.divIcon({
    html: `<svg viewBox="0 0 24 24" width="30" height="30" style="fill: #00ff9d;">
      <path d="M15 5c-3.86 0-7 3.14-7 7s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm0 13c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/>
    </svg>`,
    className: 'ufo-marker'
  });

  const marker = L.marker([lat, lng], {icon: ufoIcon})
    .bindPopup(createPopupContent(ufoData))
    .addTo(map);
    
  markers.push(marker);
  
  const listItem = createUFOListItem(ufoData, marker);
  document.getElementById('ufo-list').prepend(listItem);
  
  if (markers.length > 20) {
    const oldMarker = markers.shift();
    map.removeLayer(oldMarker);
    document.getElementById('ufo-list').lastChild.remove();
  }
  
  // Update stats
  document.getElementById('active-ufos').textContent = markers.length;
  document.getElementById('sightings-today').textContent = 
    Math.floor(Math.random() * 200 + 100);
  document.getElementById('countries').textContent = 
    Math.floor(Math.random() * 30 + 10);
}

function initMap() {
  map = L.map('map').setView([20, 0], 3);
  
  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 19,
    attribution: '© OpenStreetMap contributors'
  }).addTo(map);

  // Add initial UFOs
  for (let i = 0; i < 10; i++) {
    addUFO();
  }

  // Add new UFOs periodically
  setInterval(addUFO, 3000);
}

window.onload = initMap;

// Search functionality
document.querySelector('.search-input').addEventListener('input', (e) => {
  const searchTerm = e.target.value.toLowerCase();
  const ufoItems = document.querySelectorAll('.ufo-item');
  
  ufoItems.forEach(item => {
    const text = item.textContent.toLowerCase();
    item.style.display = text.includes(searchTerm) ? 'block' : 'none';
  });
});

// Filter buttons
document.querySelectorAll('.filter-btn').forEach(btn => {
  btn.addEventListener('click', (e) => {
    const filter = e.target.textContent;
    const ufoItems = document.querySelectorAll('.ufo-item');
    
    ufoItems.forEach(item => {
      if (filter === 'All Types') {
        item.style.display = 'block';
      } else if (filter === 'Recent') {
        // Show only UFOs from the last 5 minutes
        item.style.display = item.querySelector('.ufo-timestamp') > Date.now() - 300000 ? 'block' : 'none';
      } else if (filter === 'High Energy') {
        // Show only UFOs with energy level > 70%
        const energy = parseInt(item.querySelector('.ufo-details').textContent.match(/Energy: (\d+)%/)[1]);
        item.style.display = energy > 70 ? 'block' : 'none';
      }
    });
  });
});

// Chat functionality
const chatButton = document.getElementById('chatButton');
const chatWindow = document.getElementById('chatWindow');
const messageInput = document.getElementById('messageInput');
const sendButton = document.getElementById('sendButton');
const chatMessages = document.getElementById('chatMessages');

const alienResponses = [
  "We come in peace!",
  "Your planet fascinates us.",
  "Would you like to visit our mothership?",
  "We've been studying Earth for millennia.",
  "Your technology is... primitive, but interesting.",
  "The universal truth cannot be translated into Earth languages.",
  "We are monitoring your planet's development.",
  "Time is not linear as you perceive it.",
  "The answers you seek are in the stars."
];

chatButton.addEventListener('click', () => {
  chatWindow.classList.toggle('active');
});

function addMessage(text, isAlien) {
  const message = document.createElement('div');
  message.className = `message ${isAlien ? 'alien' : 'human'}`;
  message.textContent = text;
  chatMessages.appendChild(message);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

function getRandomResponse() {
  return alienResponses[Math.floor(Math.random() * alienResponses.length)];
}

function sendMessage() {
  const text = messageInput.value.trim();
  if (text) {
    addMessage(text, false);
    messageInput.value = '';
    
    // Simulate alien response after a short delay
    setTimeout(() => {
      addMessage(getRandomResponse(), true);
    }, 1000);
  }
}

sendButton.addEventListener('click', sendMessage);
messageInput.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') {
    sendMessage();
  }
});
</script>

</body></html>